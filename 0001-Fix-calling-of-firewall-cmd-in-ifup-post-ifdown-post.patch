From a1f80c69c76070e33bd2c0228738115f2c9c1473 Mon Sep 17 00:00:00 2001
From: Jiri Popelka <jpopelka@redhat.com>
Date: Fri, 5 Oct 2012 16:57:32 +0200
Subject: [PATCH] Fix calling of firewall-cmd in ifup-post/ifdown-post.

firewall-cmd has been using combined longopts since 0.2.6
---
 sysconfig/network-scripts/ifdown-post | 2 +-
 sysconfig/network-scripts/ifup-post   | 2 +-
 2 files changed, 2 insertions(+), 2 deletions(-)

diff --git a/sysconfig/network-scripts/ifdown-post b/sysconfig/network-scripts/ifdown-post
index 68354de..bcf4765 100755
--- a/sysconfig/network-scripts/ifdown-post
+++ b/sysconfig/network-scripts/ifdown-post
@@ -48,7 +48,7 @@ fi
 
 # Inform firewall
 if [ -x /usr/bin/firewall-cmd -a "${REALDEVICE}" != "lo" ]; then
-    /usr/bin/firewall-cmd --remove --interface="${DEVICE}" > /dev/null 2>&1
+    /usr/bin/firewall-cmd --remove-interface="${DEVICE}" > /dev/null 2>&1
 fi
 
 # Notify programs that have requested notification
diff --git a/sysconfig/network-scripts/ifup-post b/sysconfig/network-scripts/ifup-post
index 1ebb9c2..ca14acf 100755
--- a/sysconfig/network-scripts/ifup-post
+++ b/sysconfig/network-scripts/ifup-post
@@ -95,7 +95,7 @@ fi
 
 # Inform firewall which network zone (empty means default) this interface belongs to
 if [ -x /usr/bin/firewall-cmd -a "${REALDEVICE}" != "lo" ]; then
-    /usr/bin/firewall-cmd --zone="${ZONE}" --change --interface="${DEVICE}" > /dev/null 2>&1
+    /usr/bin/firewall-cmd --zone="${ZONE}" --change-interface="${DEVICE}" > /dev/null 2>&1
 fi
 
 # Notify programs that have requested notification
-- 
1.7.11.4

